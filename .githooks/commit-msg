#!/bin/bash

COMMIT_MSG_FILE=$1
COMMIT_MSG=$(cat "$COMMIT_MSG_FILE")

conventional-prs --input "$COMMIT_MSG" > /dev/null 2>&1

if [ $? -ne 0 ]; then
  echo "‚ùå Commit message does not follow Conventional Commits specification"
  echo ""
  conventional-prs --input "$COMMIT_MSG"
  exit 1
fi
